{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class ListaProductoService {\n  constructor() {\n    this.productos = [];\n    this.productoSeleccionado = null;\n  }\n  getListaProductos() {\n    return this.productos;\n  }\n  editarProducto(producto) {\n    // Guarda el producto seleccionado para editarlo\n    this.productoSeleccionado = {\n      ...producto\n    };\n    console.log(this.productoSeleccionado);\n  }\n  guardarProducto() {\n    const updatedProducts = this.productos.map(product => {\n      return product.id === this.productoSeleccionado?.id ? {\n        ...this.productoSeleccionado\n      } : product;\n    });\n    //console.log(updatedProducts);\n    this.productos = [...updatedProducts];\n    this.productoSeleccionado = null;\n  }\n  static #_ = this.ɵfac = function ListaProductoService_Factory(t) {\n    return new (t || ListaProductoService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ListaProductoService,\n    factory: ListaProductoService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["ListaProductoService","constructor","productos","productoSeleccionado","getListaProductos","editarProducto","producto","console","log","guardarProducto","updatedProducts","map","product","id","_","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\SIMM\\Desktop\\Nueva carpeta\\Desarrollo-de-software\\Proyecto-Catedra-Desarrollo-de-Software-front--master\\src\\app\\lista-producto.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Producto } from './compPrincipal/interfaces/Producto';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListaProductoService {\n  \n  private productos: Producto[] = [];\n  productoSeleccionado: Producto | null = null;\n\n  constructor() { }\n\n  getListaProductos(): Producto[] {\n    return this.productos;\n  }\n\n  editarProducto(producto: Producto): void {\n    // Guarda el producto seleccionado para editarlo\n    this.productoSeleccionado = { ...producto };\n    console.log(this.productoSeleccionado);\n  }\n  \n  guardarProducto(): void {\n    const updatedProducts = this.productos.map(product => {\n      return product.id === this.productoSeleccionado?.id ? { ...this.productoSeleccionado } : product;\n    });\n    //console.log(updatedProducts);\n    this.productos = [...updatedProducts];\n    this.productoSeleccionado = null;\n  }\n}\n\n/*\nthis.productos.map(product => {...}): This uses the map function to create a new array by iterating over each element (product) in the existing this.productos array.\n\nproduct.id === this.productoSeleccionado?.id ? { ...this.productoSeleccionado } : product: For each product, it checks if the id of the current product matches the id of this.productoSeleccionado.\n\nIf the IDs match, it returns a new object { ...this.productoSeleccionado }, which is a shallow copy of the this.productoSeleccionado object. This ensures that the original array remains immutable, and only the selected product is replaced with the updated one.\nIf the IDs do not match, it returns the original product unchanged.\nthis.productos = [...updatedProducts]: This line updates the original this.productos array with the new array (updatedProducts). \nBy assigning this new array to this.productos, you effectively update the original array with the modified product.\nthis.productoSeleccionado = null;: Finally, this line sets this.productoSeleccionado to null, indicating that there is no longer a selected product. \n*/\n"],"mappings":";AAOA,OAAM,MAAOA,oBAAoB;EAK/BC,YAAA;IAHQ,KAAAC,SAAS,GAAe,EAAE;IAClC,KAAAC,oBAAoB,GAAoB,IAAI;EAE5B;EAEhBC,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACF,SAAS;EACvB;EAEAG,cAAcA,CAACC,QAAkB;IAC/B;IACA,IAAI,CAACH,oBAAoB,GAAG;MAAE,GAAGG;IAAQ,CAAE;IAC3CC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,oBAAoB,CAAC;EACxC;EAEAM,eAAeA,CAAA;IACb,MAAMC,eAAe,GAAG,IAAI,CAACR,SAAS,CAACS,GAAG,CAACC,OAAO,IAAG;MACnD,OAAOA,OAAO,CAACC,EAAE,KAAK,IAAI,CAACV,oBAAoB,EAAEU,EAAE,GAAG;QAAE,GAAG,IAAI,CAACV;MAAoB,CAAE,GAAGS,OAAO;IAClG,CAAC,CAAC;IACF;IACA,IAAI,CAACV,SAAS,GAAG,CAAC,GAAGQ,eAAe,CAAC;IACrC,IAAI,CAACP,oBAAoB,GAAG,IAAI;EAClC;EAAC,QAAAW,CAAA,G;qBAxBUd,oBAAoB;EAAA;EAAA,QAAAe,EAAA,G;WAApBf,oBAAoB;IAAAgB,OAAA,EAApBhB,oBAAoB,CAAAiB,IAAA;IAAAC,UAAA,EAFnB;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}