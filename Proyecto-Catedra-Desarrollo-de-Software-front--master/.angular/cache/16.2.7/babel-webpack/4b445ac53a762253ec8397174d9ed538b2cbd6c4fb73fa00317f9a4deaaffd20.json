{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let FormProductoComponent = class FormProductoComponent {\n  ngOnInit() {}\n  constructor(fb, iProducto) {\n    this.fb = fb;\n    this.iProducto = iProducto;\n    this.frmProducto = this.fb.group({\n      nombre: ['', [Validators.required, Validators.minLength(3)]],\n      descripcion: ['', Validators.required],\n      categoria: ['']\n    });\n  }\n  onSubmit() {\n    //alert(\"Se guardó\");\n    console.log(this.frmProducto);\n    //console.log(this.frmProducto.value);\n    const nombreControl = this.frmProducto.get('nombre');\n    let error = null;\n    if (nombreControl) {\n      console.log('Valor del control nombre:', nombreControl.value);\n      // Verificar la validación 'required'\n      const isRequiredError = nombreControl.hasError('required');\n      if (isRequiredError) {\n        console.log('El campo nombre es requerido.');\n        error = {\n          required: true\n        }; // Almacena el error en la variable 'error'\n      }\n\n      const nuevoProducto = this.frmProducto.value;\n      this.productoService.saveProducto(nuevoProducto).subscribe(() => {\n        // Después de agregar el producto, puedes recargar la lista de productos\n        this.productoService.getProductos().subscribe(productos => {\n          console.log(productos);\n          // Actualiza la lista de productos en tu componente\n        });\n      });\n    }\n  }\n};\n\nFormProductoComponent = __decorate([Component({\n  selector: 'app-form-producto',\n  templateUrl: './form-producto.component.html',\n  styleUrls: ['./form-producto.component.css']\n})], FormProductoComponent);","map":{"version":3,"names":["Component","Validators","FormProductoComponent","ngOnInit","constructor","fb","iProducto","frmProducto","group","nombre","required","minLength","descripcion","categoria","onSubmit","console","log","nombreControl","get","error","value","isRequiredError","hasError","nuevoProducto","productoService","saveProducto","subscribe","getProductos","productos","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\SIMM\\Desktop\\Nueva carpeta\\Desarrollo-de-software\\Proyecto-Catedra-Desarrollo-de-Software-front--master\\src\\app\\form-producto\\form-producto.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { Producto } from '../compPrincipal/interfaces/Producto';\n\n@Component({\n  selector: 'app-form-producto',\n  templateUrl: './form-producto.component.html',\n  styleUrls: ['./form-producto.component.css']\n})\n\nexport class FormProductoComponent implements OnInit {\n  productoService: any;\n  ngOnInit(): void {\n    \n  }\n  \n  frmProducto: FormGroup;\n\n  constructor (private fb: FormBuilder, private iProducto: ListaP){\n    \n    this.frmProducto = this.fb.group({\n      nombre: ['', [Validators.required, Validators.minLength(3)]],\n      descripcion: ['', Validators.required],\n      categoria: ['']\n    })\n\n  }\n\n  onSubmit(){\n    //alert(\"Se guardó\");\n    console.log(this.frmProducto);\n    //console.log(this.frmProducto.value);\n\n    const nombreControl: AbstractControl | null = this.frmProducto.get('nombre');\n    let error: ValidationErrors | null = null;\n\n    if (nombreControl) {\n    console.log('Valor del control nombre:', nombreControl.value);\n\n    // Verificar la validación 'required'\n    const isRequiredError: boolean = nombreControl.hasError('required');\n\n    if (isRequiredError) {\n    console.log('El campo nombre es requerido.');\n    error = { required: true }; // Almacena el error en la variable 'error'\n    }\n\n    const nuevoProducto: Producto = this.frmProducto.value;\n\n    this.productoService.saveProducto(nuevoProducto).subscribe(() => {\n      // Después de agregar el producto, puedes recargar la lista de productos\n      this.productoService.getProductos().subscribe((productos: Producto[]) => {\n        console.log(productos);\n        // Actualiza la lista de productos en tu componente\n      });\n    });\n  }\n}\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAA2C,gBAAgB;AAS/F,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAEhCC,QAAQA,CAAA,GAER;EAIAC,YAAqBC,EAAe,EAAUC,SAAiB;IAA1C,KAAAD,EAAE,GAAFA,EAAE;IAAuB,KAAAC,SAAS,GAATA,SAAS;IAErD,IAAI,CAACC,WAAW,GAAG,IAAI,CAACF,EAAE,CAACG,KAAK,CAAC;MAC/BC,MAAM,EAAE,CAAC,EAAE,EAAE,CAACR,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5DC,WAAW,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACS,QAAQ,CAAC;MACtCG,SAAS,EAAE,CAAC,EAAE;KACf,CAAC;EAEJ;EAEAC,QAAQA,CAAA;IACN;IACAC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,WAAW,CAAC;IAC7B;IAEA,MAAMU,aAAa,GAA2B,IAAI,CAACV,WAAW,CAACW,GAAG,CAAC,QAAQ,CAAC;IAC5E,IAAIC,KAAK,GAA4B,IAAI;IAEzC,IAAIF,aAAa,EAAE;MACnBF,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEC,aAAa,CAACG,KAAK,CAAC;MAE7D;MACA,MAAMC,eAAe,GAAYJ,aAAa,CAACK,QAAQ,CAAC,UAAU,CAAC;MAEnE,IAAID,eAAe,EAAE;QACrBN,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;QAC5CG,KAAK,GAAG;UAAET,QAAQ,EAAE;QAAI,CAAE,CAAC,CAAC;;;MAG5B,MAAMa,aAAa,GAAa,IAAI,CAAChB,WAAW,CAACa,KAAK;MAEtD,IAAI,CAACI,eAAe,CAACC,YAAY,CAACF,aAAa,CAAC,CAACG,SAAS,CAAC,MAAK;QAC9D;QACA,IAAI,CAACF,eAAe,CAACG,YAAY,EAAE,CAACD,SAAS,CAAEE,SAAqB,IAAI;UACtEb,OAAO,CAACC,GAAG,CAACY,SAAS,CAAC;UACtB;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;;EAEN;CACC;;AAhDY1B,qBAAqB,GAAA2B,UAAA,EANjC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EAEW9B,qBAAqB,CAgDjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}